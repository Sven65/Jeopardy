(window.webpackJsonp=window.webpackJsonp||[]).push([[16,1],{436:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),s=a(49),n=function(e){return e&&e.__esModule?e:{default:e}}(s);var i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"render",value:function(){return n.default.createElement("nav",{className:"alert alert-"+this.props.type,onClick:this.props.onClick},n.default.createElement("div",{className:"nav-wrapper"},n.default.createElement("span",{className:"left",style:{paddingLeft:"15px"}},this.props.message)))}}]),t}();t.default=i},668:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),s=a(49),n=c(s),i=c(a(165)),r=c(a(164)),o=c(a(436)),u=(c(a(166)),c(a(106)));function c(e){return e&&e.__esModule?e:{default:e}}(0,i.default)({loader:function(){return Promise.all([a.e(6),a.e(7)]).then(a.t.bind(null,526,7))},loading:r.default});var d=(0,i.default)({loader:function(){return a.e(14).then(a.t.bind(null,610,7))},loading:r.default}),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.fileInput=n.default.createRef(),a.state={imagePreview:a.props.image,selectedImage:null,showSettings:!1,loader:{isLoading:!1},userEdit:{editError:"",buyColorError:"",boughtColor:!1,boughtColorSuccess:"",unsavedChanges:!1}},a._acceptedMimes=["image/jpeg","image/png"],a.toggleSettings=a.toggleSettings.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"componentDidMount",value:function(){var e=this;u.default.subscribe(function(){e.setState(u.default.getState())})}},{key:"logout",value:function(){localStorage.removeItem(localStorage.userData),u.default.dispatch({type:"USER_LOGOUT"})}},{key:"fileChangedHandler",value:function(e){var t=e.target.files[0];if(!(this._acceptedMimes.indexOf(t.type)<=-1)){var a=this,l=new FileReader;l.addEventListener("load",function(){a.setState({imagePreview:l.result,selectedImage:t,userEdit:{unsavedChanges:!0}})},!1),t&&l.readAsDataURL(t)}}},{key:"saveProfile",value:function(){u.default.dispatch({type:"s/ACTION_USER_EDIT",data:{file:this.state.selectedImage,fileData:{lastModified:this.state.selectedImage.lastModified,name:this.state.selectedImage.name,size:this.state.selectedImage.size,type:this.state.selectedImage.type},userToken:this.props.userToken}})}},{key:"triggerUpload",value:function(e){e.preventDefault(),this.fileInput.click()}},{key:"toggleSettings",value:function(){var e=!this.state.showSettings;this.setState({showSettings:e}),e||u.default.dispatch({type:"RESET_SETTINGS_DATA"})}},{key:"render",value:function(){var e=this,t=!this.state.userEdit.unsavedChanges&&""!==this.state.userEdit.editError;return n.default.createElement("div",null,n.default.createElement("div",{className:"modal is-active",id:"user-profile"},n.default.createElement("div",{className:"modal-background"}),n.default.createElement("div",{className:"modal-card"},n.default.createElement("section",{className:""},n.default.createElement("section",{className:"profile-top hero"},t&&n.default.createElement(o.default,{message:n.default.createElement("span",null,this.state.userEdit.editError),type:"danger"}),n.default.createElement("div",{className:"hero-body"},n.default.createElement("div",{className:"columns"},n.default.createElement("div",{className:"column"},n.default.createElement("div",{className:"user-pic"},n.default.createElement("div",{className:"user-image",style:{backgroundImage:"url("+this.state.imagePreview+")"},onClick:this.triggerUpload.bind(this)},n.default.createElement("div",{className:"image-overlay"},n.default.createElement("span",{id:"picture-overlay"},n.default.createElement("span",{className:"icon has-text-white"},n.default.createElement("i",{className:"mdi mdi-24px mdi-camera"}))))),n.default.createElement("input",{type:"file",className:"hidden",ref:function(t){return e.fileInput=t},onChange:this.fileChangedHandler.bind(this),accept:".jpg,.png"})),n.default.createElement("div",{className:"column"},this.state.userEdit.unsavedChanges&&n.default.createElement("button",{className:"mdl-btn",id:"save-profile-button",onClick:this.saveProfile.bind(this)},"Save!"))),n.default.createElement("div",{className:"column"},n.default.createElement("h1",{className:"title has-text-weight-light"},this.props.username),n.default.createElement("div",{className:"columns is-multiline"},n.default.createElement("div",{className:"column",id:"profile-wins"},n.default.createElement("h4",{className:"is-size-4 has-text-weight-light"},this.props.wins),n.default.createElement("h5",{className:"is-size-5 has-text-weight-light"},"Wins")),n.default.createElement("div",{className:"column",id:"profile-losses"},n.default.createElement("h4",{className:"is-size-4 has-text-weight-light"},this.props.losses),n.default.createElement("h5",{className:"is-size-5 has-text-weight-light"},"Losses")),n.default.createElement("div",{className:"column",id:"profile-balance"},n.default.createElement("h4",{className:"is-size-4 has-text-weight-light"},"$",this.props.balance),n.default.createElement("h5",{className:"is-size-5 has-text-weight-light"},"Balance"))))))),n.default.createElement("section",{className:"profile-bottom"},this.state.showSettings?n.default.createElement(d,{unlockedColors:this.props.unlockedColors,selectedTheme:this.props.selectedTheme,userToken:this.props.userToken,username:this.props.username,toggleSettings:this.toggleSettings}):n.default.createElement("div",{className:"columns is-multiline"},n.default.createElement("div",{className:"column is-12",onClick:this.toggleSettings},n.default.createElement("span",null,"My Settings",n.default.createElement("span",{className:"icon is-left"},n.default.createElement("i",{className:"mdi mdi-18px mdi-settings"})))),n.default.createElement("div",{className:"column is-12",onClick:this.props.logoutFunc},"Logout",n.default.createElement("span",null,n.default.createElement("span",{className:"icon is-left"},n.default.createElement("i",{className:"mdi mdi-18px mdi-exit-to-app"})))))))),n.default.createElement("button",{className:"modal-close is-large","aria-label":"close",onClick:this.props.closeButtonFunction})))}}]),t}();t.default=f},669:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){return e&&e.__esModule?e:{default:e}}(a(668));t.default=l.default}}]);