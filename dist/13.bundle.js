(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{608:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=o(49),l=u(a),r=u(o(165)),s=u(o(164)),i=(u(o(436)),u(o(166))),c=u(o(106));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,r.default)({loader:function(){return Promise.all([o.e(6),o.e(7)]).then(o.t.bind(null,526,7))},loading:s.default}),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={swatches:["#FFF","#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"],loader:{isLoading:!1},userEdit:{editError:"",buyColorError:"",boughtColor:!1,boughtColorSuccess:"",unsavedChanges:!1},selectedTab:"general"},o.themeChange=o.themeChange.bind(o),o.colorSelected=o.colorSelected.bind(o),o.onColorSelect=o.onColorSelect.bind(o),o.selectTab=o.selectTab.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:"componentDidMount",value:function(){var e=this;c.default.subscribe(function(){e.setState(c.default.getState(),function(){""!==e.state.userEdit.buyColorError?(0,i.default)({title:"Error!",text:e.state.userEdit.buyColorError,icon:"error",button:"Close"}).then(function(){c.default.dispatch({type:"RESET_BUY_COLOR_ERROR"})}):!1!==e.state.userEdit.boughtColor&&(0,i.default)({title:"Success!",text:e.state.userEdit.boughtColorSuccess,icon:"success",button:"Close"}).then(function(){c.default.dispatch({type:"RESET_BOUGHT_COLOR"})})})})}},{key:"saveProfile",value:function(){c.default.dispatch({type:"s/ACTION_USER_EDIT",data:{file:this.state.selectedImage,fileData:{lastModified:this.state.selectedImage.lastModified,name:this.state.selectedImage.name,size:this.state.selectedImage.size,type:this.state.selectedImage.type},userToken:this.props.userToken}})}},{key:"triggerUpload",value:function(e){e.preventDefault(),this.fileInput.click()}},{key:"themeChange",value:function(e){c.default.dispatch({type:"s/USER_CHANGE_THEME",data:{theme:e.target.value,userToken:this.props.userToken}})}},{key:"_htmlToElement",value:function(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}},{key:"_getSwalContent",value:function(e,t){return this._htmlToElement('\n\t\t\t<div class="color-buy-holder">\n\t\t\t\t<div class="columns is-multiline">\n\t\t\t\t\t<div class="column is-12 chat-even">\n\t\t\t\t\t\t<span style="color: '+e+';font-weight: bold;">'+t+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="column is-12 chat-odd">\n\t\t\t\t\t\t<span style="color: '+e+';font-weight: bold;">'+t+"</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t")}},{key:"colorSelected",value:function(e){var t=this;e.unlocked?c.default.dispatch({type:"s/USER_SET_COLOR",data:{color:e.color,userToken:this.props.userToken}}):(0,i.default)({title:"Do you want to unlock this color for $2,000?",content:this._getSwalContent(e.color,this.props.username),buttons:["Nope!",!0]}).then(function(o){o&&c.default.dispatch({type:"s/USER_BUY_COLOR",data:{color:e.color,userToken:t.props.userToken}})})}},{key:"getSwatchColors",value:function(){var e=this,t=[],o=this.state.swatches;return this.props.unlockedColors.forEach(function(e){o.indexOf(e)<=-1&&o.push(e)}),o.forEach(function(o){t.push({color:o,unlocked:e.props.unlockedColors.indexOf(o)>-1})}),t}},{key:"onColorSelect",value:function(e){this.setState({swatches:[].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(this.state.swatches),[e.color])})}},{key:"selectTab",value:function(e){console.log("tab",e)}},{key:"render",value:function(){!this.state.userEdit.unsavedChanges&&this.state.userEdit.editError;return l.default.createElement("div",{className:"columns is-multiline user-settings"},l.default.createElement("div",{className:"column is-12 no-hover"},l.default.createElement("div",{className:"field has-addons"},l.default.createElement("div",{className:"control"},l.default.createElement("a",{className:"button is-profile"},"Theme")),l.default.createElement("div",{className:"control is-expanded"},l.default.createElement("div",{className:"select is-fullwidth"},l.default.createElement("select",{onChange:this.themeChange,defaultValue:this.props.selectedTheme},l.default.createElement("option",{value:"light"},"Light"),l.default.createElement("option",{value:"dark"},"Dark")))))),l.default.createElement("div",{className:"column is-12 no-hover"},l.default.createElement("span",{className:"title name-title"},"Name Color"),l.default.createElement(d,{colors:this.getSwatchColors(),onSelect:this.colorSelected,closeHandler:this.onColorSelect})))}}]),t}();t.default=f}}]);